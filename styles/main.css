html, body { margin: 0; padding: 0; }
svg { display: block; background: white; }

/* =========================================================
   DESSIN (SVG) : hover & classes
   ========================================================= */

/* ===========================
   BASE SHAPES
   =========================== */
.gd-shape{
  pointer-events: all;
  transition: filter 140ms ease, transform 140ms ease, stroke-width 140ms ease, opacity 140ms ease;
  transform-box: fill-box;
  transform-origin: center;
}
.gd-text{ pointer-events: none; }

/* ===========================
   CIBLES – LABEL
   =========================== */
.gd-cible-label{
  font-family: Arial, sans-serif;
  font-size: 12px;
  fill: rgba(0,0,0,0.85);
  opacity: 0.22;
  transition: opacity 140ms ease;
  pointer-events: all;
  user-select: none;
  cursor: default;
}
.gd-cible:hover .gd-cible-label{ opacity: 1.0; }
.gd-cible.gd-hover .gd-cible-label{ opacity: 1.0; }

/* ===========================
   HOVER ACTIF (objets)
   =========================== */
.gd-shape:not(.gd-soil):hover{
  filter: brightness(0.55) drop-shadow(0px 4px 10px rgba(0,0,0,0.35));
  transform: scale(1.015);
  stroke-width: calc(var(--sw) * 2.0);
}
.gd-shape.gd-hover:not(.gd-soil){
  filter: brightness(0.55) drop-shadow(0px 4px 10px rgba(0,0,0,0.35));
  transform: scale(1.015);
  stroke-width: calc(var(--sw) * 2.0);
}

/* ===========================
   SOLS (couches Geol)
   - PAS d'ombre
   - PAS de scale
   - OUI fonçage (très visible)
   =========================== */
.gd-soil{
  pointer-events: all;
  filter: none;
  transform: none;
  box-shadow: none;
}

/* hover direct sur sol => fonçage net (pas d’ombre) */
.gd-soil:hover{
  filter: brightness(0.55) saturate(1.25) !important;
  transform: none !important;
  box-shadow: none !important;
  stroke-width: var(--sw) !important;
}

/* si un sol reçoit gd-hover (normalement non via JS), on neutralise */
.gd-soil.gd-hover{
  filter: none !important;
  transform: none !important;
  box-shadow: none !important;
  stroke-width: var(--sw) !important;
}


/* =========================================================
   SIDEBAR : header "Coupes depuis Excels"
   (si tu veux le style dans le CSS plutôt que dans app.py)
   ========================================================= */
.gd-menu-header{
  display:flex;
  align-items:center;
  gap:10px;
  padding:6px 10px;
  border-radius:0.5rem;
  font-size:0.92rem;
  line-height:1.2rem;
  user-select:none;
}
.gd-menu-header:hover{ background: rgba(0,0,0,0.06); }
.gd-menu-dot{
  width:0.65rem;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  opacity:0.7;
}

/* =========================================================
   EXCEL EDITOR : Freeze première colonne (SCOPÉ)
   IMPORTANT: ne s'applique QUE si excel_editor.py entoure
   le widget dans <div class="gd-excel-freeze">...</div>
   ========================================================= */

.gd-excel-freeze [data-testid="stDataFrame"]{
  overflow: auto;
}

/* --- Cas 1 : rendu "table" (certaines versions) --- */
.gd-excel-freeze [data-testid="stDataFrame"] table{
  border-collapse: separate !important;
  border-spacing: 0 !important;
}

/* header col 1 */
.gd-excel-freeze [data-testid="stDataFrame"] thead tr th:nth-child(1){
  position: sticky !important;
  left: 0 !important;
  z-index: 6 !important;
  background: white !important;
}

/* body col 1 */
.gd-excel-freeze [data-testid="stDataFrame"] tbody tr td:nth-child(1){
  position: sticky !important;
  left: 0 !important;
  z-index: 5 !important;
  background: white !important;
  box-shadow: 2px 0 0 rgba(0,0,0,0.12);
}

/* --- Cas 2 : rendu "grid" (le plus fréquent sur data_editor) --- */
/* colonne header */
.gd-excel-freeze [data-testid="stDataFrame"] [role="columnheader"]:nth-child(1){
  position: sticky !important;
  left: 0 !important;
  z-index: 6 !important;
  background: white !important;
}

/* cellules */
.gd-excel-freeze [data-testid="stDataFrame"] [role="row"] > div:nth-child(1){
  position: sticky !important;
  left: 0 !important;
  z-index: 5 !important;
  background: white !important;
  box-shadow: 2px 0 0 rgba(0,0,0,0.12);
}

/* si Streamlit ajoute un wrapper interne */
.gd-excel-freeze [data-testid="stDataFrame"] [role="row"] > [role="gridcell"]:nth-child(1){
  position: sticky !important;
  left: 0 !important;
  z-index: 5 !important;
  background: white !important;
  box-shadow: 2px 0 0 rgba(0,0,0,0.12);
}
